---
title: "Why Is spatially Explicit Discretization Necessary?"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{whysed}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  fig.path = "man/figures/whysed/",
  fig.dpi = 150
)
```


We use simulated data comprising 100 cells organized in a 10-row by 10-column grid to illustrate the rationale for employing spatially explicit discretization methods. This simulated dataset is constructed by combining data from four distinct spatial process models, resulting in a stratification with four differentiated strata. In subsequent analyses, all discretization methods applied will discretize the dataset into four strata for the calculation of the q-value. The simulation of spatial data is conducted using the `spdgp` package in R. We compare the Q value estimates obtained through spatially explicit discretization in the SESP model, robust discretization in the Robust Geographical Detector, and conventional natural breaks discretization with the Geodetector. The spatially explicit stratification in the SESP model is implemented using the `sesp` package, robust discretization is achieved using the `gdverse` package, and natural breaks are implemented with the `sdsfun` package.

## Install the necessary R packages

```r
install.packages(c("sf","terra","gdverse"), dep = T)
# install.packages("devtools")
devtools::install_github("ausgis/sesp",
                         build_vignettes = TRUE,
                         dep = TRUE)
# install.packages("pak")
pak::pak("josiahparry/spdgp")
```


## Simulated independent variable x

```{r}

```

